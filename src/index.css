/* src/index.css */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --leva-sizes-rootWidth: 340px; }

/* ===== Base pré-existente ===== */
html, body{ position: relative; }
.overlay { z-index: 10; height: 53%; position: absolute; top: 0; left: 0; }
canvas { pointer-events: none; }

/* O root só define a área total; layout 50/50 é feito por .mentor-root */
#root { width: 100vw; height: 100vh; display: block; }

button.bg-\[\#2596be\].hover\:bg-\[\#227ea2\].text-white.p-4.px-10.font-semibold.uppercase.rounded-md{ background-color: #FAB201 !important; }
button.bg-\[\#2596be\].hover\:bg-\[\#227ea2\].text-white.p-4.px-10.font-semibold.uppercase.rounded-md:hover{ background-color: #bb8708 !important; }
input.w-full.placeholder\:text-gray-300.placeholder\:italic.p-4.rounded-md.bg-black.bg-opacity-40.text-gray-200.text-sm.backdrop-blur-md.border-2.focus\:outline-none.focus\:ring-0.focus\:border-gray-500{ border-color: #FAB201 !important; }

.play-button-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; }
.play-button { background-color: white; border: none; color: white; font-size: 24px; padding: 20px; border-radius: 50%; cursor: pointer; transition: background-color 0.3s ease; }

.botao-ios { transform: none !important; }

body { margin: 0; background-color: #FAB201; background-image: linear-gradient(190deg, #FAB201 0%, #000000 110%); }
body.greenScreen { background-color: #00ff00; background-image: none; }

.avatar-selection { display: flex; justify-content: space-around; }
.avatar-selection button {
  background: #0cc0df; color: white; padding: 1rem 2rem; margin: 0 1rem; border: 2px solid #ff9a00; border-radius: 8px; cursor: pointer;
  transition: transform 0.3s ease-in-out, background 0.3s ease-in-out; font-family: 'Press Start 2P', cursive; width: 90%;
}
.avatar-selection button:hover { transform: scale(1.1); background: #ff9a00; }
.selected-avatar { background: #ff9a00; border: 2px solid #0cc0df; color: white; }
h2 { font-family: 'Press Start 2P', cursive; color: #0cc0df; }
.bg-white { background-color: #000000; color: #ff9a00; border: 2px solid #0cc0df; }
.fixed { font-family: 'Press Start 2P', cursive; }

.avatar-option { display: flex; flex-direction: column; align-items: center; margin: 0 10px; }

.init::-webkit-scrollbar { width: 6px; }
.init::-webkit-scrollbar-thumb { background-color: #4D4D4D; border-radius: 10px; }
.init::-webkit-scrollbar-track { background-color: #2E2E2E; }

/* Scrollbar Firefox */
body { scrollbar-width: thin; scrollbar-color: #4D4D4D #2E2E2E; }

.avatar-image { width: 90%; height: 370px; margin-bottom: 10px; border-radius: 30px; }

.init{ width: 100%; height: 100%; overflow: auto; display: block !important; }

*{ margin: 0; padding: 0; font-family: 'Poppins', sans-serif !important; }

#heading h1{ line-height: 0.8; font-size: 24px; margin-bottom: 10px; font-weight: 700; color: white; }
#heading{ width: 100%; text-align: center; margin-bottom: 30px; }
.highlight{ font-family: 'Syne', sans-serif; font-weight: 700; color: #ffcc00; font-size: 1.9rem; margin: 0 !important; }

.avatar-selection-container { background-image: url('https://i.imgur.com/MZUzERk.png'); background-size: cover; background-position: center; width: 100%; height: 100vh; }
.avatar-selection { display: flex; gap: 2rem; justify-content: center; align-items: center; }
.avatar-option img { width: 100%; max-width: 300px; border-radius: 10px; transition: transform 0.3s ease; }
.avatar-option img:hover { transform: scale(1.05); }

@media (max-width: 768px) {
  .avatar-selection { flex-direction: column; }
  .avatar-option img { max-width: 100%; border: 1px solid #D79901; border-radius: 12px; }
  #carol-avatar { content: url('https://i.imgur.com/3qkMEAT.png'); }
  #david-avatar { content: url('https://i.imgur.com/cNZWbhZ.png'); }
  #ryan-avatar  { content: url('https://i.imgur.com/ywwWlyl.png'); }
  .avatar-image{ height: 100%; }
}

h2 { text-align: center; color: white; }

.message-input-container { display: flex; gap: 1rem; padding: 1rem; align-items: center; }
.input-box { background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(5px); border-color: rgb(37, 150, 190); flex-grow: 1; border-radius: 0.5rem; padding: 0.75rem; font-size: 1rem; }
.send-button { padding: 0.75rem 1.5rem; font-size: 1rem; border-radius: 0.5rem; transition: background-color 0.3s; }
.record-button { border-radius: 50%; padding: 0.75rem; display: flex; align-items: center; justify-content: center; transition: background-color 0.3s; }
.record-icon { width: 1.5rem; height: 1.5rem; }

@media (max-width: 768px) {
  .message-input-container { flex-direction: column; gap: 0.75rem; }
  .input-box { font-size: 0.875rem; padding: 0.5rem; }
  .send-button, .record-button { width: 100%; padding: 0.75rem; font-size: 0.875rem; }
  .record-icon { width: 2rem; height: 2rem; }
}

/* ===================================================================== */
/* ===================  LAYOUT 50/50 + CHAT TYPEBOT  ==================== */
/* ===================================================================== */

.mentor-root{ width:100vw; height:100vh; display:flex; flex-direction:column; }
.stage{ position:relative; height:50%; width:100%; overflow:hidden; }
.stage-canvas{ position:absolute !important; inset:0; }

.split-root{
  height: 100%;
}

.chat-half{
  height: 50%;
}

.chat-dock{
  height: 100%;
}

/* Garanta que a .stage seja o contexto do overlay */
.stage{
  position: relative;          /* você já tem, mas reafirmando */
  overflow: hidden;            /* ok manter */
  z-index: 1;                  /* fica atrás do chat */
}

/* Fade sobre a .stage (no rodapé da metade superior) */
.stage::after{
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;                   /* gruda no limite inferior da stage */
  height: 88px;                /* ajuste fino do tamanho do fade */
  pointer-events: none;        /* não bloqueia interações */
  z-index: 5;                  /* acima do Canvas, abaixo do chat */

  /* de baixo (preto) para cima (transparente) */
  background: linear-gradient(
    to top,
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,0.85) 35%,
    rgba(0,0,0,0) 100%
  );
}

/* Se quiser um fade um pouco maior no mobile */
@media (max-width: 768px){
  .stage::after{ height: 104px; }
}

.dock{
  height:50vh; width:100%; display:flex; justify-content:center; align-items:flex-end;
  padding-bottom:max(env(safe-area-inset-bottom), 0px);
  background: transparent; z-index:12;
}

.chat-surface{ width:100%; max-width:100%; height:100%; display:flex; }
.chat-window{
  height:100%; width:100%; display:flex; flex-direction:column; gap:10px;
  background: black;
  box-shadow: 0 -10px 40px rgba(0,0,0,0.45);
  padding-top:10px;
}

.chat-scroll {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* iOS com inércia */
  /* esconder em Firefox e IE/Edge legacy */
  scrollbar-width: none;          /* Firefox */
  -ms-overflow-style: none;       /* IE/Edge antigo */
  overscroll-behavior: contain;   /* evita bounce para fora do container */
  padding: 0 20px;
  height: 100%;
}

/* esconder em Chrome/Safari/WebKit */
.chat-scroll::-webkit-scrollbar {
  width: 0;
  height: 0;
  display: none;
}

.bubble-row{ width:100%; display:flex; margin:8px 0; }
.bubble-row.left   { justify-content:flex-start; }
.bubble-row.right  { justify-content:flex-end; }

/* ===== Bolhas (tamanho natural) ===== */
* { font-family:'Lato', sans-serif; font-weight:600; }
.typebot-host-bubble,
.typebot-guest-bubble{
  display:inline-block;
  width:auto;
  word-break: break-word;
  white-space: pre-wrap;
  will-change: transform, opacity;
}
.typebot-host-bubble{
  color:#FFFFFF !important; background-color:#1A1A1A !important;
  border-radius:25px 25px 25px 3px !important;
  padding:14px 16px; max-width:88%; line-height:1.35;
}
.typebot-guest-bubble{
  background-color:#FFFFFF; color:#000000;
  border-radius:25px 25px 3px 25px;
  padding:8px 12px; max-width:70%; line-height:1.25;
}

/* ===== Digitando (3 bolinhas com pulinho) ===== */
.bubble-typing{
  display:inline-flex; align-items:center; justify-content:space-between;
  width:46px; padding:13px 10px;
  background:#1A1A1A; color:#fff;
  border-radius:25px 25px 25px 3px !important;
  gap:3px;
}
.bubble-typing .dot{
  width:6px; height:6px; border-radius:50%; background:#fff; opacity:.85;
  animation: lift .9s infinite ease-in-out;
}
.bubble-typing .dot:nth-child(2){ animation-delay:.12s; }
.bubble-typing .dot:nth-child(3){ animation-delay:.24s; }
@keyframes lift { 0%,80%,100%{ transform:translateY(0); opacity:.6 } 40%{ transform:translateY(-6px); opacity:1 } }

/* ===== Animação de entrada das mensagens ===== */
.bubble-in{ animation: bubbleIn .24s ease-out both; }
@keyframes bubbleIn {
  from { opacity:0; transform: translateY(8px) scale(.98); }
  to   { opacity:1; transform: translateY(0) scale(1); }
}

/* Botão/input */
.typebot-input-form{ display:flex; gap:10px; padding: 8px 12px 14px; }
.typebot-input{
  flex:1; border-radius:25px 6px 6px 25px; background-color:#000;
  border:1px solid #FAA101; color:#AEAEAE; padding:14px 16px; font-size:15px; outline:none;
}
.typebot-button{
  display:inline-flex; align-items:center; justify-content:center; width:54px; height:54px;
  border-radius:999px; border:none; cursor:pointer;
  background: linear-gradient(180deg, #FAA101 0%, #D06400 100%);
  box-shadow: 0 0 0 0 rgba(250,161,1,0.5);
  -webkit-animation: pulse 1.5s infinite; animation: pulse 1.5s infinite;
}
.typebot-button:active{ transform: translateY(1px); }
@-webkit-keyframes pulse{ 0%{ transform: scale(0.98); } 70%{ transform: scale(1); box-shadow: 0 0 10px 10px rgba(250,161,1,0); } 100%{ transform: scale(0.98); box-shadow: 0 0 0 0 rgba(250,161,1,0); } }
@keyframes pulse{ 0%{ transform: scale(0.98); } 70%{ transform: scale(1); box-shadow: 0 0 10px 10px rgba(250,161,1,0); } 100%{ transform: scale(0.98); box-shadow: 0 0 0 0 rgba(250,161,1,0); } }

/* Garante que o Canvas continue sem clique por cima do chat */
canvas { pointer-events: none; }